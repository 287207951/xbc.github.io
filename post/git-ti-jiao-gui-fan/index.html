<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>git提交规范 | 小白菜</title>
<meta name="description" content="小白菜">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://xbcc123.github.io//favicon.ico?v=1570669568930">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://xbcc123.github.io//styles/main.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  


<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />



  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://xbcc123.github.io/">
        <img src="https://xbcc123.github.io//images/avatar.png?v=1570669568930" class="site-logo">
        <h1 class="site-title">小白菜</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      小白菜
    </div>
    <div class="site-footer">
       | <a class="rss" href="https://xbcc123.github.io//atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">git提交规范</h2>
            <div class="post-date">2019-10-10 09:05:41</div>
            
            <div class="post-content">
              <h4 id="遇到的问题">遇到的问题</h4>
<ol>
<li>版本回退时无法快速定位到指定版本</li>
<li>无法知道项目中封版操作是哪一个commit</li>
<li>无法清晰的知道每次提交的记录</li>
</ol>
<p>####以下是commit提交规范</p>
<p>每次提交，Commit message 都包括三个部分：Header，Body 和 Footer。</p>
<p>其中，Header 是必需的，Body 和 Footer 可以省略。</p>
<pre><code class="language-json">[&lt;type&gt;]: (&lt;scope&gt;): &lt;subject&gt;
// 空一行
&lt;body&gt;
// 空一行
&lt;footer&gt;      
</code></pre>
<h4 id="header">Header</h4>
<p>Header部分只有一行，包括两个字段：<code>type</code>（必需）和<code>subject</code>（必需）。</p>
<p><code>type</code>用于说明 commit 的类别，只允许使用下面8个标识。</p>
<pre><code>feat：新功能（feature）
fix：修补bug
docs：文档（documentation）
style： 格式（不影响代码运行的变动）
refactor(ref)：重构（即不是新增功能，也不是修改bug的代码变动）
test：增加测试
chore：构建过程或辅助工具的变动
tag: 针对与每次版本的提交
revert: 撤销，版本回退
perf: 性能优化
</code></pre>
<p><code>subject</code>是 commit 目的的简短描述，不超过50个字符。</p>
<pre><code>以动词开头，使用第一人称现在时，比如修改/修复/增加 等等
example: 订单详情增加导出功能
</code></pre>
<h4 id="scope">scope</h4>
<p><code>scope</code>用于说明 commit 影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同。</p>
<h4 id="body">Body</h4>
<p>Body 部分是对本次 commit 的详细描述，可以分成多行。下面是一个范例。</p>
<pre><code>xxx/xxx.vue  修改内容
xxx/xxx.vue  修改内容
</code></pre>
<h4 id="footer">Footer</h4>
<p>Footer 部分只用于两种情况。</p>
<ol>
<li>
<p><strong>不兼容变动</strong></p>
<p>如果当前代码与上一个版本不兼容，则 Footer 部分以<code>BREAKING CHANGE</code>开头，后面是对变动的描述、以及变动理由和迁移方法。</p>
</li>
</ol>
<pre><code>BREAKING CHANGE: 项目webpack升级到4.0版本
xx插件替换成xx插件
</code></pre>
<ol start="2">
<li><strong>关闭 bug/需求</strong></li>
</ol>
<pre><code>closes 3056, 11231
</code></pre>
<h3 id="revert">Revert</h3>
<p>还有一种特殊情况，如果当前 commit 用于撤销以前的 commit，则必须以<code>revert:</code>开头，后面跟着被撤销 Commit 的 Header。</p>
<pre><code>[revert](pencil): 回退当前版本667ec到 sssee2
</code></pre>
<h3 id="建议">#建议</h3>
<p>​	文档综合了，公司项目git管理的实际情况，在某一些规范上进行了轻微修改，在平时提交fix和feat时，一般使用简写</p>
<pre><code>[feat]: 增加订单详情  closes xxxx (closes非必需)
[fix]: 修复xx情况下xx问题  closes xxxx (closes非必需)
[docs]: 修改md文件
[style]: 修改订单列表样式
[ref]: 重构utils.js下部分方法
[chore]: 增加xxx插件/xxxxloader
[tag]: 新建版本分支xxx
[revert]: 回退当前版本667ec到 sssee2
[perf]:  优化了xxx，提高了渲染速度
</code></pre>
<p>在某些复杂commit比如 <code>revert</code>，<code>chore</code> 等操作时最好在body，footer，描述清楚 遇到了什么问题，为何要这样做</p>
<pre><code>[revert]:(订单模块): 回退当前版本667ec到 sssee2

因为某次提交失误，造成xxx问题
xxx.vue
xxx.js

closes xxx
</code></pre>
<pre><code>[chore]:(项目组件, 项目构建)：增加公用组件库xxx和xxx公用一套组件

为了解决xx问题， 引入公用组件库，使用方式见xx.md文档
</code></pre>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://xbcc123.github.io//tag/SWHtHit_e" class="tag">
                    工程化
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://xbcc123.github.io//post/lu-yi-ge-webpack-ji-chu-pei-zhi">
                  <h3 class="post-title">
                    撸一个webpack基础配置
                  </h3>
                </a>
              </div>
            

            
              
                <div id="gitalk-container" data-aos="fade-in"></div>
              

              
            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>



  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: '721bd165c2bc8e2f1c66',
        clientSecret: '3cbd82c986204a9a1d34f1ab145541c03f6401b1',
        repo: 'xbcc123.github.io',
        owner: 'xbcc123',
        admin: ['xbcc123'],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




  </body>
</html>
